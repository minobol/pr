Код программы начинается с объявления класса UserDataApp, внутри которого определены методы main и processInputData.

Метод main используется для запуска приложения и вызывает метод processInputData с тестовыми данными.

Метод processInputData принимает строку inputData, которая содержит введенные пользователем данные. Сначала данные разбиваются на части (по пробелам) с помощью метода split. Затем проверяется количество данных - если их не 6, то выбрасывается исключение AppException с сообщением о неверном количестве данных.

Далее извлекаются данные, проверяются их форматы с помощью соответствующих методов, и если формат некорректный, выбрасывается исключение AppException с соответствующим сообщением.

Затем создается строка userDataStr, содержащая все полученные данные, разделенные пробелом.

Далее вызывается метод writeToFile, который записывает данные в файл с названием, равным фамилии пользователя. Если возникает ошибка записи в файл, выбрасывается исключение IOException, которое обрабатывается в блоке catch и пробрасывается в метод processInputData путем выбрасывания исключения AppException.

Метод isValidDateFormat используется для проверки формата даты рождения. Он использует регулярное выражение, которое проверяет, что переданная строка соответствует формату "dd.mm.yyyy".

Метод isValidPhoneNumberFormat используется для проверки формата номера телефона. Он также использует регулярное выражение, которое проверяет, что переданная строка содержит только цифры.

Метод isValidGenderFormat используется для проверки формата пола. Он проверяет, что переданная строка содержит либо символ "f", либо символ "m".

Метод writeToFile открыывает файл с названием, равным фамилии пользователя, для записи. Затем в файл записывается строка userDataStr с данными пользователя, после чего файл закрывается.

В конце кода определен класс AppException, который расширяет класс Exception и используется для определения наших собственных исключений.
